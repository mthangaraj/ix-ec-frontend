<header class="header">
    <div class="dropdown hamburger-icon dark">
        <div id="nav-icon3" role="button" data-toggle="dropdown" >
            <span></span>
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div class="dropdown-menu" role="menu" id="drop_dwn_list" aria-labelledby="dropdownMenu">
            <div class="reports-actions-block">
                <div class="next-report-date-block">
                    <p class="title" id="next_reporting_text">Next Reporting Date:</p>
                    <p class="date" id="next_reporting_period">{{next_reporting_peroid | date:'MMMM d'}}</p>
                </div>
                <a id="prev-report-btn" [routerLink]="['/dashboard-prev-report']" class="btn prev-report-btn active">Previous Reports</a>
                <a id="review_btn" [routerLink]="['/dashboard']" class="btn financial-review-btn">Financial Overview</a>
                <a id="logout_btn" class="logout-btn" (click)="logOut()">Logout</a>
            </div>
        </div>
    </div>
    <div class="expresso-logo-block" id="logo_block">
        <img src="./assets/img/expresso-logo.png" class="white-logo">
        <img src="./assets/img/expresso-logo-blue.png" class="blue-logo">
    </div>
    <contact-us [showContact]="showContact"></contact-us>

</header>
<div class="vertical-height steps-container hamburger-menu brand-bg" detect-scroll (onScroll)="handleScroll($event)">
    <div class="vert-center">
        <div class="reports-actions-block">
            <!-- Check if Reporting is Due  -->
            <div *ngIf="!next_reporting_due && !reporting_in_progress" class="next-report-date-block">
                <p class="title" id="nxt_rprt_text">Next Reporting Date:</p>
                <p class="date" id="nxt_rprt_date">{{next_reporting_peroid | date:'MMMM d, yyyy'}}</p>
            </div>
            <div *ngIf="next_reporting_due" class="report-due-block">
                <p id="report_due">Report due for
                    <br> {{next_reporting_peroid | date:'MMMM d, yyyy'}}</p>
                <a id='start_reporting' (click)="startMonthlyReporting()" class="btn start-reporting-btn">Start Reporting</a>
            </div>
            <div *ngIf="reporting_in_progress" class="report-due-block">
                <p id="curr_report">Report in progress for
                    <br> {{current_reporting_period | date:'MMMM d, yyyy'}}</p>
                <a id='continue_reporting' (click)="continueMonthlyReporting()" class="btn start-reporting-btn">Continue Reporting</a>
            </div>
            <!-- removed active class because on the previous report detail view you need to get back to Previous Reports list #brad -->
            <a id="previous_reports_btn" [routerLink]="['/dashboard-prev-report']" class="btn prev-report-btn">Previous Reports</a>
            <a id="overview_btn" [routerLink]="['/dashboard']" class="btn financial-review-btn">Financial Overview</a>
        </div>
        <login-info></login-info>
        <div class="logout-btn save-and-exit">
            <a id="save_exit_btn" (click)="logOut()">Logout</a>
        </div>
    </div>
</div>
<div class="clearfix page-container">
    <div class="statement-table-container">
    <div *ngIf="show_in_progress_msg" class="vert-center">
        <div class="prev-report-header">
            <div class="input-group col-xs-12 col-md-8">
                <p class="page-title" id="curr_month">{{currentMonth}} Report Detail</p>
            </div>
        </div>
        <div>
            <p class="page-title" id="page_title">Reporting is In Progress.</p>
            <p id="page_desc">Details will be available when reporting is complete.</p>
        </div>
    </div>

    <div *ngIf="!show_in_progress_msg" class="vert-center">
        <div class="prev-report-header">
            <div class="input-group col-xs-12 col-md-8">
                <p class="page-title" id="current_month">{{currentMonth}} Report Detail</p>
            </div>
        </div>

        <form [ngClass]="class" (ngSubmit)="submitForm()" id="form_entry" (change)="formChanged()" autocomplete="off">
            <div style="padding-top: 100px;" class="statement-table-container">
                <div class="statement-table-block balance"  *ngIf="!reportview">
                    <p class="statement-table-title" id="statement_table_title">Balance Sheet</p>
                    <div class="table-responsive">
                        <table style="width: 100px" class="table" id="asset_table">
                            <tr *ngFor="let balance of balance_sheet_ass;let i=index" [ngClass]="{highlight: balance.fse_tag.is_total_row}">
                                <td class="description-readonly" [attr.id]="'ass_desc_'+i">{{balance.fse_tag.description}}</td>
                                <!-- see comment in dashboard-compoment as to why this is USD, in short dont change it to CAD .-->
                                <td [attr.id]="'ass_is_total_'+i" *ngIf="balance.fse_tag.is_total_row">{{balance.value}}</td>
                                <td [attr.id]="'ass_bal_val_'+i" *ngIf="!balance.fse_tag.is_total_row">{{balance.value | number:'1.0-0'}}</td>
                            </tr>
                        </table>
                        <table style="width: 100px" class="table" id="liab_table">
                            <tr *ngFor="let balance of balance_sheet_liab;let i=index" [ngClass]="{highlight: balance.fse_tag.is_total_row}">
                                <td class="description-readonly" [attr.id]="'liab_desc_'+i">{{balance.fse_tag.description}}</td>
                                <td [attr.id]="'liab_is_total_'+i" *ngIf="balance.fse_tag.is_total_row">{{balance.value | currency:'USD':true:'1.0-0'}}</td>
                                <td [attr.id]="'liab_bal_val_'+i" *ngIf="!balance.fse_tag.is_total_row">{{balance.value | number:'1.0-0'}}</td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="statement-table-block income"  *ngIf="!reportview">
                    <p class="statement-table-title">Income Statement</p>
                    <div class="table-responsive">
                        <table style="width: 100px" class="table" id="income_table">
                            <tr *ngFor="let income of income_statement;let i=index" [ngClass]="{highlight: income.fse_tag.is_total_row}">
                                <td class="description-readonly" [attr.id]="'income_desc_'+i">{{income.fse_tag.description}}</td>
                                <td [attr.id]="'income_is_total_'+i" *ngIf="income.fse_tag.is_total_row">{{income.value | currency:'USD':true:'1.0-0'}}</td>
                                <td [attr.id]="'income_bal_val_'+i" *ngIf="!income.fse_tag.is_total_row">{{income.value | togglesign:negative_collection:income.fse_tag.name | number:'1.0-0'}}</td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="statement-table-block balance" *ngIf="reportview">
                    <p class="statement-table-title" id="statement-table-title">Balance Sheet as of {{date}}</p>
                    <div class="table-responsive">
                    <table class="table" id="bal_table_1">
                        <tr>
                            <th style="text-align: center" colspan="2" id="bal_acc_name">Account Name</th>
                            <th style="text-align: center" id="amnt">Amount</th>
                        </tr>

                        <tr>
                            <td colspan="2"><span id="balance_cash_text">Cash</span></td>
                            <td>
                                <input type="text" class="form-control time-input-block"
                                       id="balance_cash" name="Cash" value=""  maxlength="15"
                                       [(ngModel)]="balancesheet.data['Cash']"
                                       (ngModelChange)="getTotalCurrentassets()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="balance_acc_rec_text">Accounts Receivables</span></td>
                            <td>
                                <input type="text" class="form-control time-input-block"
                                       id="balance_acc_rec" name="Accounts Receivables" value=""  maxlength="15"
                                       [(ngModel)]="balancesheet.data['AccountReceivables']"
                                       (ngModelChange)="getTotalCurrentassets()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="balance_sred_rec_txt">Tax Credit Receivable</span></td>
                            <td>
                                <input type="text" class="form-control time-input-block"
                                       id="balance_sred_rec" name="SRED/ITC Receivable" value=""  maxlength="15"
                                       [(ngModel)]="balancesheet.data['SREDReceivable']"
                                       (ngModelChange)="getTotalCurrentassets()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="balance_other_curr_asset_txt">Other Current Assets</span></td>
                            <td>
                                <input type="text" class="form-control time-input-block"
                                       id="balance_other_curr_asset" name="Other Current Assets" value=""  maxlength="15"
                                       [(ngModel)]="balancesheet.data['OtherCurrentAssets']"
                                       (ngModelChange)="getTotalCurrentassets()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr class="total">
                            <td colspan="2"><span id="bal_total_cur_asset_text">Total Current Assets</span></td>
                            <td>
                                <input class="form-control time-input-block result" NumberFormatter name="Total Current Assets"
                                       id="bal_total_cur_asset" value="" [(ngModel)]="balancesheet.data['TotalCurrentAssets']"  disabled>
                            </td>
                        </tr>
                    </table>
                    <table class="table" id="bal_table_2">
                        <tr>
                            <td colspan="2"><span id="bal_pat_asset_text">Patents & Intangible Assets</span></td>
                            <td>
                                <input type="text" class="form-control time-input-block"
                                       id="bal_pat_asset" name="Patents & Intangible Assets" value=""  maxlength="15"
                                       [(ngModel)]="balancesheet.data['PatentsAndIntangibleAssets']"
                                       (ngModelChange)="getTotalAssets()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="bal_fixed_asset_text">Fixed Assets</span></td>
                            <td>
                                <input type="text" class="form-control time-input-block"
                                       id="bal_fixed_asset" name="Fixed Assets" value=""  maxlength="15"
                                       [(ngModel)]="balancesheet.data['FixedAssets']"
                                       (ngModelChange)="getTotalAssets()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="bal_other_asset_txt" >Other Assets</span></td>
                            <td>
                                <input type="text" class="form-control time-input-block"
                                       id="bal_other_asset" name="Other Assets" value=""  maxlength="15"
                                       [(ngModel)]="balancesheet.data['OtherAssets']"
                                       (ngModelChange)="getTotalAssets()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr class="total">
                            <td colspan="2"><span id="bal_total_asset_txt">Total Assets</span></td>
                            <td><input class="form-control time-input-block result" NumberFormatter name="Total Assets" id="bal_total_asset"
                                       value=""  [(ngModel)]="balancesheet.data['TotalAssets']" (ngModelChange)="getTotalAssets()" disabled>
                            </td>
                        </tr>
                    </table>
                    <table class="table" id="bal_table_3">
                        <tr>
                            <td colspan="2"><span id="bal_acc_liab_txt">Accounts Payable and Accrued Liabilities</span></td>
                            <td>
                                <input type="text" class="form-control time-input-block"
                                       id="bal_acc_liab" name="Accounts Payable and Accrued Liabilities" value=""  maxlength="15"
                                       [(ngModel)]="balancesheet.data['AccountsPayableAndAccruedLiabilities']"
                                       (ngModelChange)="getTotalCurrentLiabilities()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="bal_bank_debt_txt">Bank Debt</span></td>
                            <td>
                                <input type="text" class="form-control time-input-block"
                                       id="bal_bank_debt" name="Bank Debt" value=""  maxlength="15"
                                       [(ngModel)]="balancesheet.data['BankDebt']"
                                       (ngModelChange)="getTotalCurrentLiabilities()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="bal_other_curr_liab_txt">Other Current Liabilities</span></td>
                            <td>
                                <input type="text" class="form-control time-input-block"
                                       id="bal_other_curr_liab" name="Other Current Liabilities" value=""  maxlength="15"
                                       [(ngModel)]="balancesheet.data['OtherCurrentLiabilities']"
                                       (ngModelChange)="getTotalCurrentLiabilities()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="bal_defer_rev_txt">Deferred Revenue</span></td>
                            <td>
                                <input type="text" class="form-control time-input-block"
                                       id="bal_defer_rev" name="Deferred Revenue" value=""  maxlength="15"
                                       [(ngModel)]="balancesheet.data['DeferredRevenue']"
                                       (ngModelChange)="getTotalCurrentLiabilities()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr class="total">
                            <td colspan="2"><span id="bal_total_curr_liab_txt">Total Current Liabilities</span></td>
                            <td>
                                <input class="form-control time-input-block result" NumberFormatter name="Total Current Liabilities"
                                       id="bal_total_curr_liab" value=""  [(ngModel)]="balancesheet.data['TotalCurrentLiabilities']" disabled>
                            </td>
                        </tr>
                    </table>
                    <table class="table">
                        <tr>
                            <td colspan="2"><span id="bal_espresso_debtoutstanding_txt">Espresso Debt Outstanding</span></td>
                            <td>
                                <input type="text" class="form-control time-input-block"
                                       id="bal_espresso_debtoutstanding" name="Espresso Debt Outstanding" value=""  maxlength="15"
                                       [(ngModel)]="balancesheet.data['EspressoDebtOutstanding']"
                                       (ngModelChange)="getTotalLiabilities()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="bal_senior_sec_debt_txt">Senior Secured Debt</span></td>
                            <td>
                                <input type="text" class="form-control time-input-block"
                                       id="bal_senior_sec_debt" name="Senior Secured Debt" value=""  maxlength="15"
                                       [(ngModel)]="balancesheet.data['SeniorSecuredDebt']"
                                       (ngModelChange)="getTotalLiabilities()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="bal_sub_deb_txt">Subordinated Debt</span></td>
                            <td>
                                <input type="text" class="form-control time-input-block"
                                       id="bal_sub_deb" name="Subordinated Debt" value=""  maxlength="15"
                                       [(ngModel)]="balancesheet.data['SubordinatedDebt']"
                                       (ngModelChange)="getTotalLiabilities()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="bal_share_loan_txt">Shareholder Loans</span></td>
                            <td>
                                <input type="text" class="form-control time-input-block"
                                       id="bal_share_loan" name="Shareholder Loans" value=""  maxlength="15"
                                       [(ngModel)]="balancesheet.data['ShareholderLoans']"
                                       (ngModelChange)="getTotalLiabilities()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="other_liab_txt">Other Liabilities</span></td>
                            <td>
                                <input type="text" class="form-control time-input-block"
                                       id="other_liab" name="Other Liabilities" value=""  maxlength="15"
                                       [(ngModel)]="balancesheet.data['OtherLiabilities']"
                                       (ngModelChange)="getTotalLiabilities()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr class="total">
                            <td colspan="2"><span id="total_liab_txt">Total Liabilities</span></td>
                            <td><input class="form-control time-input-block result" NumberFormatter
                                       name="Total Liabilities" id="total_liab" value="" [(ngModel)]="balancesheet.data['TotalLiabilities']" disabled></td>
                        </tr>
                    </table>
                    <table class="table" id="bal_table_4">
                        <tr>
                            <td colspan="2"><span id="bal_share_cap_txt">Share Capital and Contributed Capital</span></td>
                            <td>
                                <input type="text" class="form-control time-input-block"
                                       id="bal_share_cap" name="Share Capital and Contributed Capital" value=""  maxlength="15"
                                       [(ngModel)]="balancesheet.data['ShareAndContributedCapital']"
                                       (ngModelChange)="getTotalEquity()"
                                       NumberFormatter/>
                            </td>
                        </tr>

                        <tr>
                            <td colspan="2"><span id="bal_equity_portion_txt">Equity Portion of LT Debt</span></td>
                            <td>
                                <input type="text" class="form-control time-input-block"
                                       id="bal_equity_portion" name="Equity Portion of LT Debt" value=""  maxlength="15"
                                       [(ngModel)]="balancesheet.data['EquityPositionOfLTDebt']"
                                       (ngModelChange)="getTotalEquity()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="bal_minority_txt">Minority Equity Position</span></td>
                            <td>
                                <input type="text" class="form-control time-input-block"
                                       id="bal_minority" name="Minority Equity Position" value=""  maxlength="15"
                                       [(ngModel)]="balancesheet.data['MinorityEquityPosition']"
                                       (ngModelChange)="getTotalEquity()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="bal_loss_txt">Retained Earnings (Loss)</span></td>
                            <td>
                                <input type="text" class="form-control time-input-block"
                                       id="bal_loss" name="Retained Earnings (Loss)" value=""  maxlength="15"
                                       [(ngModel)]="balancesheet.data['RetainedEarningsLoss']"
                                       (ngModelChange)="getTotalEquity()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="net_income_txt">Net Income</span></td>
                            <td>
                                <input type="text" class="form-control time-input-block"
                                       id="net_income" name="Net Income" value=""  maxlength="15"
                                       [(ngModel)]="balancesheet.data['NetIncomeYTD']"
                                       (ngModelChange)="getTotalEquity()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr class="total">
                            <td colspan="2"><span id="total_equity_txt">Total Equity</span></td>
                            <td><input class="form-control time-input-block result" NumberFormatter
                                       name="Total Equity" value="" id="total_equity" [(ngModel)]="balancesheet.data['TotalEquity']" disabled></td>
                        </tr>
                    </table>
                    <table class="table">
                        <tr class="total">
                            <td colspan="2"><span id="total_le_txt">Total L&E</span></td>
                            <td><input class="form-control time-input-block result" NumberFormatter
                                       name="Total L&E" value="" id="total_le"[(ngModel)]="balancesheet.data['TotalLiabilityAndEquity']" disabled></td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="statement-table-block income" *ngIf="reportview">
                <p class="statement-table-title">Income Statement</p>
                <div class="table-responsive">
                    <table class="table" id="income_table">
                        <tr>
                            <th style="text-align: center" colspan="2" id="income_acc_name">Account Name</th>
                            <th style="text-align: center" id="income_amnt">Amount</th>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="rec_rev_txt">Recurring Revenues</span></td>
                            <td >
                                <input type="text" class="form-control time-input-block"
                                       id="rec_rev" name="Recurring Revenues" value=""  maxlength="15"
                                       [(ngModel)]="incomestatement.data['RecurringRevenues']"
                                       (ngModelChange)="getTotalRevenue()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="non_rec_rev_txt">Non-Recurring Revenues</span></td>

                            <td >
                                <input type="text" class="form-control time-input-block"
                                       id="non_rec_rev" name="Non-Recurring Revenues" value=""  maxlength="15"
                                       [(ngModel)]="incomestatement.data['NonRecurringRevenues']"
                                       (ngModelChange)="getTotalRevenue()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr class="total">
                            <td colspan="2"><span id="total_rev_txt">Total Revenues</span></td>
                            <!--                              <td class="empty-cell"></td>-->
                            <td><input class="form-control time-input-block result" NumberFormatter name="Total Revenues"
                                       id="total_rev" value="" [(ngModel)]="incomestatement.data['TotalRevenue']" disabled>
                            </td>
                        </tr>
                    </table>
                    <table class="table">
                        <tr>
                            <td colspan="2"><span id="coast_goods_txt">Cost of Goods Sold</span></td>

                            <td >
                                <input type="text" class="form-control time-input-block"
                                       id="coast_goods" name="Cost of Goods Sold" value=""  maxlength="15"
                                       [(ngModel)]="incomestatement.data['CostOfGoodsSold']"
                                       (ngModelChange)="getGrossProfit()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr class="total">
                            <td colspan="2"><span id="gross_profit_txt">Gross Profit</span></td>

                            <td >
                                <input class="form-control time-input-block result" NumberFormatter name="Gross Profit" value=""
                                       id="gross_profit" [(ngModel)]="incomestatement.data['GrossProfit']" disabled>
                            </td>
                        </tr>
                    </table>
                    <table class="table">
                        <tr>
                            <td colspan="2"><span id="sales_market_txt">Sales and Marketing Expenses</span></td>

                            <td >
                                <input type="text" class="form-control time-input-block"
                                       id="sales_market" name="Sales and Marketing Expenses" value=""  maxlength="15"
                                       [(ngModel)]="incomestatement.data['SalesAndMarketingExpenses']"
                                       (ngModelChange)="getEbitda()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="income_rd_txt">R&D (Gross - excluding SR&ED)</span></td>

                            <td >
                                <input type="text" class="form-control time-input-block"
                                       id="income_rd" name="R&D (Gross - excluding SRED)" value=""  maxlength="15"
                                       [(ngModel)]="incomestatement.data['RDGrossMinusExcludingSRED']"
                                       (ngModelChange)="getEbitda()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="income_ga_txt">G&A</span></td>

                            <td >
                                <input type="text" class="form-control time-input-block"
                                       id="income_ga" name="G&A" value=""  maxlength="15"
                                       [(ngModel)]="incomestatement.data['GA']"
                                       (ngModelChange)="getEbitda()"
                                       NumberFormatter/>
                            </td>
                        </tr>

                        <tr class="total">
                            <td colspan="2"><span id="income_ebitda_txt">EBITDA</span></td>

                            <td >
                                <input class="form-control time-input-block result" NumberFormatter name="EBITDA"
                                       id="income_ebitda" value="" [(ngModel)]="incomestatement.data['Ebitda']" disabled>
                            </td>
                        </tr>
                    </table>
                    <table class="table">
                        <tr>
                            <td colspan="2"><span id="income_da_txt">Depreciation & Amortization</span>
                                <p class="notetext">Note : This number is usually negative.</p></td>

                            <td >
                                <input type="text" class="form-control time-input-block"
                                       id="income_da" name="Depreciation" value=""  maxlength="15"
                                       [(ngModel)]="incomestatement.data['DepreciationAndAmortization']"
                                       (ngModelChange)="getNetIncome()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="interest_income_txt">Interest Income (Expense)</span></td>
                            <td >
                                <input type="text" class="form-control time-input-block"
                                       id="interest_income" name="Interest Income (Expense)" value=""  maxlength="15"
                                       [(ngModel)]="incomestatement.data['InterestIncomeExpense']"
                                       (ngModelChange)="getNetIncome()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="irap_txt">IRAP/Grants Received</span></td>

                            <td >
                                <input type="text" class="form-control time-input-block"
                                       id="irap" name="IRAP/Grants Received" value=""  maxlength="15"
                                       [(ngModel)]="incomestatement.data['IRAPGrantsReceived']"
                                       (ngModelChange)="getNetIncome()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="sred_txt">SR&ED</span></td>

                            <td >
                                <input type="text" class="form-control time-input-block"
                                       id="sred" name="SRED" value=""  maxlength="15"
                                       [(ngModel)]="incomestatement.data['SREDAccrual']"
                                       (ngModelChange)="getNetIncome()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><span id="other_income_txt">Other Income (Expenses)</span></td>

                            <td >
                                <input type="text" class="form-control time-input-block"
                                       id="other_income" name="Other Income (Expenses)" value=""  maxlength="15"
                                       [(ngModel)]="incomestatement.data['OtherIncomeExpenses']"
                                       (ngModelChange)="getNetIncome()"
                                       NumberFormatter/>
                            </td>
                        </tr>
                        <tr class="total">
                            <td colspan="2"><span id="net_incomes_txt">Net Income</span></td>

                            <td ><input class="form-control time-input-block result" NumberFormatter name="Net Incomes" value=""
                                        id="net_incomes"[(ngModel)]="incomestatement.data['NetIncome']" disabled></td>
                        </tr>

                    </table>
                </div>
            </div>
            <div class="statement-table-block income">
                <p class="statement-table-title">Questionnaire</p>
                <div *ngIf="questions.length == 0 " class="no-questions" id="no_questions">
                    No questionnaire data is collected during setup.
                </div>
                <div *ngFor="let question of questions;let i=index">
                    <div class="form-field" *ngIf="question.answer_data_type=='boolean'">
                        <div class="row">
                            <div class=" col-md-8">
                                <div class="label-price-block">
                                    <label class="question-label" [attr.id]="'question_'+question.id">{{question.question_text}}</label>
                                </div>
                                <div class="radio-container" [attr.id]="'container_'+question.id">
                                    <div class="radio-inline" >
                                        <label>
                                            <input type="radio" [attr.id]="'radio_'+question.id+'_yes'" class="radio" name="gaap{{question.id}}" value={{question.question_choices[0]}} [(ngModel)]="question.answer.answer" >
                                            <div class="outer-border" [attr.id]="'answer_'+question.id+'_yes'" (click)="show_text_area(i,question.question_choices[0])">{{question.question_choices[0]}}</div>
                                        </label>
                                    </div>
                                    <div class="radio-inline">
                                        <label>
                                            <input type="radio" [attr.id]="'radio_'+question.id+'_no'" class="radio" name="gaap{{question.id}}" value={{question.question_choices[1]}} [(ngModel)]="question.answer.answer">
                                            <div class="outer-border" [attr.id]="'answer_'+question.id+'_no'" (click)="show_text_area(i,question.question_choices[1])">{{question.question_choices[1]}}</div>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-field" *ngIf="question.answer_data_type=='integer'">
                        <div class="row">
                            <div class=" col-md-8">
                                <div class="label-price-block">
                                    <label class="question-label"  [attr.id]="'question_'+question.id">{{question.question_text}}</label>
                                </div>
                                <!--<input class="form-control" onkeypress='return event.charCode >= 48 && event.charCode <= 57' type="number" [attr.id]="'answer_'+question.id" name="value{{question.id}}" value="" [(ngModel)]="question.answer.answer">-->
                                <input type="text" class="form-control"
                                       [attr.id]="'answer_'+question.id" name="value{{question.id}}" value=""
                                       [(ngModel)]="question.answer.answer"
                                       NumbersOnly/>
                            </div>
                        </div>
                    </div>
                    <div class="form-field" *ngIf="question.answer_data_type=='decimal'">
                        <div class="row">
                            <div class=" col-md-8">
                                <div class="label-price-block">
                                    <label class="question-label"  [attr.id]="'question_'+question.id">{{question.question_text}}</label>
                                </div>
                                <!--<input class="form-control" onkeypress='return ((event.charCode >= 48 && event.charCode <= 57) || event.charCode == 46)' type="number" step="any" [attr.id]="'answer_'+question.id" name="value{{question.id}}" value="" [(ngModel)]="question.answer.answer">-->
                                <input type="text" class="form-control"
                                       [attr.id]="'answer_'+question.id" name="value{{question.id}}" value=""
                                       [(ngModel)]="question.answer.answer"
                                       NumbersOnly/>
                            </div>
                        </div>
                    </div>
                    <div class="form-field" *ngIf="question.answer_data_type=='varchar(127)' || question.answer_data_type=='varchar(120)' || question.answer_data_type=='varchar(64)' ">
                        <div class="row">
                            <div class=" col-md-8">
                                <div class="label-price-block">
                                    <label class="question-label"  [attr.id]="'question_'+question.id">{{question.question_text}}</label>
                                </div>
                                <input class="form-control" type="text" [attr.id]="'answer_'+question.id" name="text{{question.id}}" value="" [(ngModel)]="question.answer.answer">
                            </div>
                        </div>
                    </div>
                    <div id="{{question.short_tag}}_text" class="form-field" *ngIf="(question.answer_data_type=='varchar(511)') && show[i]">
                        <div class="row">
                            <div class=" col-md-8">
                                <div class="label-price-block">
                                    <label [attr.id]="'child_question_'+question.id">{{question.question_text}}</label>
                                </div>
                                <textarea class="form-control" type="text" [attr.id]="'child_answer_'+question.id" name="text{{question.id}}" value="" rows='3' [(ngModel)]="question.answer.answer"></textarea>
                            </div>
                        </div>
                    </div>
                    <div id="{{question.short_tag}}_text" class="form-field" *ngIf="(question.answer_data_type=='varchar(255)') && show[i]">
                        <div class="row">
                            <div class=" col-md-8">
                                <div class="label-price-block">
                                    <label [attr.id]="'child_question_'+question.id">{{question.question_text}}</label>
                                </div>
                                <textarea class="form-control" type="text" [attr.id]="'child_answer_'+question.id" name="text{{question.id}}" value="" rows='3' [(ngModel)]="question.answer.answer"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="form-field" *ngIf="question.answer_data_type=='date'">
                        <div class="row">
                            <div class=" col-md-8">
                                <div class="label-price-block">
                                    <label class="question-label"  [attr.id]="'question_'+question.id">{{question.question_text}}</label>
                                    <input type="text" [(ngModel)]="question.answer.answer" [attr.id]="'answer_'+question.id+'_date'" class="form-control" bsDatepicker #dp="bsDatepicker" [bsConfig]="bsConfig" [maxDate]="maxdate" [ngModelOptions]="{standalone: true}">
                                    <!-- <date-picker [(ngModel)]="question.answer.answer"  name="date{{question.id}}" class="angular-datepicker"></date-picker>-->
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-field" *ngIf="question.answer_data_type=='enum'">
                        <div class="row">
                            <div class=" col-md-8">
                                <div class="label-price-block">
                                    <label class="question-label"  [attr.id]="'question_'+question.id">{{question.question_text}}</label>
                                </div>
                                <select class="form-control" [(ngModel)]="question.answer.answer" [attr.id]="'answer_'+question.id+'_dropdown'" name="select{{question.id}}">
                                    <option *ngFor="let option of question.enumvalues" value="{{option}}"> {{option}}</option>
                                </select>

                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div class="submit-btn-block">
            <div class="input-group col-xs-12 col-md-8">
                <button id="back_action" type="button" class="btn hollow-btn submit-back-btn" (click)="goBack()">Go Back</button>
                <button [routerLink]="['/dashboard-signoff-prev-report', dateParam,'edit']" id="submit_coa_btn" type="submit"
                        class="btn hollow-btn submit-coa-btn"
                        >Save Report</button>
            </div>
        </div>
        </form>
    </div>
</div>
</div>
<loading-message [showLoading]="showLoading" [loadingMessage]="loadingMessage"></loading-message>